---
title: "软件如何访问硬件"
date: 2023-05-07T16:40:59+08:00
draft: false
summary: "硬件是各种各样的，发展速度还是非常快的。每个硬件都有自己的个性，操作系统不可能及时更新各种硬件的驱动方法（不可能刚出某个新硬件，OS开发者就开始为其编写驱动，这显然不现实）。 因此便出现了各种硬件适配器，这就是IO接口。接口其实就是标准，大家生产生出来的硬件按照这个标准工作就实现了通用。硬件在输入输出上大体分为串行和并"
tags: [Linux]
categories: [OS]
source: csdn
source_id: "130544536"
---

硬件是各种各样的，发展速度还是非常快的。每个硬件都有自己的个性，操作系统不可能及时更新各种硬件的驱动方法（不可能刚出某个新硬件，OS开发者就开始为其编写驱动，这显然不现实）。


因此便出现了各种硬件适配器，这就是IO接口。接口其实就是标准，大家生产生出来的硬件按照这个标准工作就实现了通用。硬件在输入输出上大体分为串行和并行，相应的接口也就是串行接口和并行接口。


![](/images/how-software-accesses-hardware/04bd1a98dd505ca8cb45dcbb35b01435.png)



访问外部硬件有两个方式：


* **将某个外设的内存映射到一定范围的地址空间中，CPU通过地址总线访问该内存区域时会落到外部的内存中**，这种映射让CPU访问外设的内存就如同访问主板上的物理内存一样。

  > 显卡就是这么做的。显卡是显示器的适配器，CPU不直接和显示器交互，它只和显卡通信。显卡上有片内存叫显存，它映射到主机物理内存上的低端1MB的0xB8000-0xBFFFF。CPU访问这片内存就是访问显存，往这片内存写字节便是往屏幕上打印内容。
  >
* **CPU通过访问IO接口与外设通信**，CPU访问外设就是访问IO接口，由IO接口将信息传给另一端的外设，也就是说CPU从来不知道有这些设备的存在，它只知道自己操作的IO接口。

  > **IO接口位于总线与IO设备之间，接口上有一些寄存器，访问IO接口本质上就是访问这些寄存器**，这些寄存器就是人们常说的端口。这些端口是IO接口给CPU和外设使用提供的接口
  >
